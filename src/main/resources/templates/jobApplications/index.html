<!DOCTYPE html>
<html lang="en">
<head th:replace="partials/head :: head ('All Job Applications')" />
<body>
<th:block th:replace="partials/navbar :: navbar"></th:block>
<div class="">
    <h1 class="row mb-5">YOUR JOB APPLICATIONS</h1>
    <form id="searchBar" class="row" th:action="@{/search}" th:method="get">
        <input class=" form-control me-2" type="search" name="search" id="search" placeholder="search">
        <button class="btn btn-outline-success" type="submit">Search</button>
    </form>
</div>

<form id="statusUpdate" th:action="@{/jobApplications/kanban/update}" th:method="post" >
    <div id="statusNameContainer" class="container-fluid d-flex justify-content-between">
        <div class="statusNameDiv text-center"><h3 class="statusName col-4">Applied To</h3></div>
        <div class="statusNameDiv text-center"><h3 class="statusName col-4">First Contact</h3></div>
        <div class="statusNameDiv text-center"><h3 class="statusName col-4">Interviews</h3></div>
        <div class="statusNameDiv text-center"><h3 class="statusName col-4">Offer Made</h3></div>
    </div>

    <div class="container-fluid d-flex justify-content-between" id="kanbanContainer" style="border: 2px solid slategray; width: 98%; height: 60em">
        <input id="dynamicId" type="hidden" name="draggedJobId" th:value="0">

        <fieldset id="appliedTo" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <ol id="appliedJobs" class="connectedSortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs1}" value="test">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input th:id="${job.id}" type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-4">
                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
    <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">
                          <!--                        adding the create a note modal within the job application index-->
<!--                        this works, changing over to notes/index to show all notes with the matching job app id-->
<!--                        <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">-->
<!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createNote">Create a note</button>-->
<!--                            <div th:replace="/notes/create.html :: #createNote"></div>-->
<!--                        </form>-->
<!--                        <form action="/notes/index/{id}" th:action="@{/notes/index/{id}(id = ${job.id})}" method="get" th:object="${job}">-->
<!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notesIndex">View Notes</button>-->
<!--                            <div th:replace="/notes/index.html :: #notesIndex"></div>-->
<!--                        </form>-->
                        <!--  REMINDER BUTTON -->
<!--                        <form action="/reminders/create" th:action="@{/reminders/create}" method="post" th:object="${reminder}">-->
<!--                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createNote">Create a reminder</button>-->
<!--                            <div th:replace="/reminders/create.html :: #createReminder"></div>-->
<!--                        </form>-->
<!--                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">-->
<!--                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">-->
<!--                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>-->
<!--                            </form>-->
<!--                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">-->
<!--                                <button type="submit">Delete</button>-->
<!--                            </form>-->

<!--                            <form th:action="@{/jobApplications/{id}(id=${job.id})}" th:method="get" id="show1">-->
<!--                            the link Lex created to fix the issue we had with the first card in the fist column-->
<!--                                <a th:href="@{/jobApplications/{id}(id=${job.id})}" class="btn btn-primary">Show more</a>-->
<!--                                <button form="show1" type="submit" class="btn btn-primary">Show More</button>-->
<!--                            </form>-->

<!--                            TODO the modals are displaying everything from the first modal, its the same issue as we did with the edit notes issue just add the id to the id and you should be good  to go-->
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#appliedToModal' + job.id}">
                                Show Info
                            </button>


                            <!-- Modal -->
                            <div class="modal fade " th:id="${'appliedToModal' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header" style="text-align: center">
                                            <img th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                                            <p class="card-text" th:text="${job.company}"></p>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <h4 class="text-primary card-title" style="text-align: center" th:text="${job.title}"></h4>
                                            <p class="card-text" th:text="'Location: ' + ${job.location}"></p>
                                            <p class="card-text" th:text="'Salary: $' + ${job.getSalary()}"></p>
                                            <ol class="card-text" th:each="note : ${notes}">
                                                <li class="card-text" th:if="${note.getJobApplication().getId() == job.getId()}">
                                                    <p th:text="${note.title}"></p>
                                                    <p th:text="${note.content}"></p>
                                                </li>
                                            </ol>
                                            <h6 class="card-text" style="text-align: center;">Description</h6>
                                            <br>
                                        </div>
                                        <div class="modal-footer">
                                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#createNote' + job.id}" data-bs-dismiss="modal">Create a note</button>
                                                <!--                                                <div th:replace="/notes/create.html :: #createNote"></div>-->
                                            </form>
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            <a th:href="@{/jobApplications/{id}(id=${job.id})}" class="btn btn-primary">View All Info</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <form th:action="@{/notes/{id}/createFromKanban(id = ${job.id})}" method="post" th:object="${note}">

                                <div class="modal fade" th:id="${'createNote' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="appliedToModalLabel">New Note</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="mb-3">
                                                    <label for="title-name" class="col-form-label">Title</label>
                                                    <input type="text" class="form-control" id="appliedTo-title-name" th:field="*{title}"
                                                           th:value="*{title}">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="message-text" class="col-form-label">Message:</label>
                                                    <textarea class="form-control" id="appliedTo-message-text" th:field="*{content}"
                                                              th:value="*{content}"></textarea>
                                                </div>

                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" th:data-bs-target="${'#appliedToModal' + job.id}" data-bs-toggle="modal" data-bs-dismiss="modal">Close</button>
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>

                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
        </fieldset>
    <!--FIRST CONTACT COLUMN-->
        <fieldset id="firstContact" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <!--            <form id="statusUpdate" th:action="@{/jobApplications/kanban/update}" th:method="post" >-->
<!--                <input type="hidden" id="kanban_status" class="kanban_status" name="kanban_status" th:value="${2}" />-->
<!--            </form>-->
            <ol id="contactedJobs" class="connectedSortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs2}">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-4">
                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
                        <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">
                            <!--                        adding the show more model from above to make the other columns of the kanban board matching-->

<!--                            TODO: i added the create a note modal within the show more modal and it works, except for after submission the redirect closes the modal. if i figure-->
<!--                            that out it ensures the other forms will be that much easier since its the same logic. still need to ask an instructor -->
<!--                            how to get notes model attribute to pass within the get mapping so i can display all that information through the show more modal.-->
<!--                            -->
<!--                            <form th:action="'/jobApplications/' + ${job.id}" method="get">-->
<!--                                <button type="submit" class="btn btn-primary">Show More</button>-->
<!--                            </form>-->

                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#firstContactModal' + job.id}">
                                Show Info
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" th:id="${'firstContactModal' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header" style="text-align: center">
                                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <h4 class="text-primary card-title" style="text-align: center" th:text="${job.title}"></h4>
                                            <p class="card-text" th:text="'Location: ' + ${job.location}"></p>
                                            <p class="card-text" th:text="'Salary: $' + ${job.salary}"></p>
                                            <h6 class="card-text" style="text-align: center;">Description</h6>
                                            <p class="card-text" th:text="${job.description}"></p>
                                            <br>

                                        </div>
                                        <div class="modal-footer">
                                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#createNote' + job.id}" data-bs-dismiss="modal">Create a note</button>
<!--                                                <div th:replace="/notes/create.html :: #createNote"></div>-->
                                            </form>
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            <form th:action="'/jobApplications/' + ${job.id}" method="get">
                                                <button type="submit" class="btn btn-primary">View All Info</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <form th:action="@{/notes/{id}/createFromKanban(id = ${job.id})}" method="post" th:object="${note}">

                                <div class="modal fade" th:id="${'createNote' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="contactedModalLabel">New Note</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="mb-3">
                                                    <label for="title-name" class="col-form-label">Title</label>
                                                    <input type="text" class="form-control" id="contacted-title-name" th:field="*{title}"
                                                           th:value="*{title}">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="message-text" class="col-form-label">Message:</label>
                                                    <textarea class="form-control" id="message-text" th:field="*{content}"
                                                              th:value="*{content}"></textarea>
                                                </div>

                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" th:data-bs-target="${'#firstContactModal' + job.id}" data-bs-toggle="modal" data-bs-dismiss="modal">Close</button>
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>


                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
            <!--THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND-->
        </fieldset>
    <!--INTERVIEW 1 COLUMN-->
        <fieldset id="interview1" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <ol id="interviewNum1" class="connectedSortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs3}">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-4">
                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
                        <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">

<!--                            TODO i changed out the creates for the show more button, they all function aside from that weird problem for the first job in the first column-->
<!--                            there is a problem with the create a job app on the home page, seems to be because we changed to int instead of double sunday but it looks like its been changed everywhere?-->
<!--                            start testing out the modals within modals in the show page to see if you can get that working, especially within the main kanban because of that pass the job id in the path variable thing. -->
<!--                            then see if the reminders are gonna start getting added so we can bring it all together-->

                            <!--                        adding the show more model from above to make the other columns of the kanban board matching-->

<!--                            <form th:action="'/jobApplications/' + ${job.id}" method="get">-->
<!--                                <button type="submit" class="btn btn-primary">Show More</button>-->
<!--                            </form>-->
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#int1Modal' + job.id}">
                                Show Info
                            </button>

                            <div class="modal fade" th:id="${'int1Modal' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header" style="text-align: center">
                                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <h4 class="text-primary card-title" style="text-align: center" th:text="${job.title}"></h4>
                                            <p class="card-text" th:text="'Location: ' + ${job.location}"></p>
                                            <p class="card-text" th:text="'Salary: $' + ${job.salary}"></p>
                                            <h6 class="card-text" style="text-align: center;">Description</h6>
                                            <p class="card-text" th:text="${job.description}"></p>
                                            <br>

                                        </div>
                                        <div class="modal-footer">
                                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#createNote' + job.id}"data-bs-dismiss="modal">Create a note</button>
                                                <!--                                                <div th:replace="/notes/create.html :: #createNote"></div>-->
                                            </form>
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            <form th:action="'/jobApplications/' + ${job.id}" method="get">
                                                <button type="submit" class="btn btn-primary">View All Info</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <form th:action="@{/notes/{id}/createFromKanban(id = ${job.id})}" method="post" th:object="${note}">

                                <div class="modal fade" th:id="${'createNote' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="int1ModalLabel">New Note</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="mb-3">
                                                    <label for="title-name" class="col-form-label">Title</label>
                                                    <input type="text" class="form-control" id="int1-title-name" th:field="*{title}"
                                                           th:value="*{title}">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="message-text" class="col-form-label">Message:</label>
                                                    <textarea class="form-control" id="int1-message-text" th:field="*{content}"
                                                              th:value="*{content}"></textarea>
                                                </div>

                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" th:data-bs-target="${'#int1Modal' + job.id}" data-bs-toggle="modal" data-bs-dismiss="modal">Close</button>
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>


                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
            <!--THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND-->
        </fieldset>
<!--    &lt;!&ndash;INTERVIEW 2 COLUMN&ndash;&gt;-->
<!--        <fieldset id="interview2" class="col-3 statusColumn hidden" style="border: 1px solid hotpink;">-->
<!--            <div><h3 class="statusName">Interview #2</h3></div>-->
<!--            <ol id="interviewNum2" class="connectedSortable"></ol>-->
<!--            &lt;!&ndash;THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND&ndash;&gt;-->
<!--        </fieldset>-->
<!--    &lt;!&ndash;INTERVIEW 3 COLUMN&ndash;&gt;-->
<!--        <fieldset id="interview3" class="col-3 statusColumn hidden" style="border: 1px solid hotpink;">-->
<!--            <div><h3 class="statusName">Interview #3</h3></div>-->
<!--            <ol id="interviewNum3" class="connectedSortable"></ol>-->
<!--            &lt;!&ndash;THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND&ndash;&gt;-->
<!--        </fieldset>-->
    <!--OFFER MADE COLUMN-->
        <fieldset id="offerMade" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <ol id="offeredJobs" class="connectedSortable offeredJobs ui-sortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs4}">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-4">
                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
                        <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">
                            <!--                        adding the show more model from above to make the other columns of the kanban board matching-->

<!--                            <form th:action="'/jobApplications/' + ${job.id}" method="get">-->
<!--                                <button type="submit" class="btn btn-primary">Show More</button>-->
<!--                            </form>-->
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#offerModal' + job.id}">
                                Show Info
                            </button>

                            <div class="modal fade" th:id="${'offerModal' + job.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header" style="text-align: center">
                                            <img class="round" th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <h4 class="text-primary card-title" style="text-align: center" th:text="${job.title}"></h4>
                                            <p class="card-text" th:text="'Location: ' + ${job.location}"></p>
                                            <p class="card-text" th:text="'Salary: $' + ${job.salary}"></p>
                                            <h6 class="card-text" style="text-align: center;">Description</h6>
                                            <p class="card-text" th:text="${job.description}"></p>
                                            <br>

                                        </div>
                                        <div class="modal-footer">
                                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:data-bs-target="${'#createNote' + job.id}"data-bs-dismiss="modal">Create a note</button>
                                                <!--                                                <div th:replace="/notes/create.html :: #createNote"></div>-->
                                            </form>
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                            <form th:action="'/jobApplications/' + ${job.id}" method="get">
                                                <button type="submit" class="btn btn-primary">View All Info</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <form th:action="@{/notes/{id}/createFromKanban(id = ${job.id})}" method="post" th:object="${note}">

                                <div class="modal fade" th:id="${'createNote' + job.id}"tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="offerMadeLabel">New Note</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="mb-3">
                                                    <label for="title-name" class="col-form-label">Title</label>
                                                    <input type="text" class="form-control" id="title-name" th:field="*{title}"
                                                           th:value="*{title}" placeholder="Title">
                                                </div>
                                                <div class="mb-3">
                                                    <label for="message-text" class="col-form-label">Message:</label>
                                                    <textarea class="form-control" id="offerMade-message-text" th:field="*{content}"
                                                              th:value="*{content}" placeholder="Content"></textarea>
                                                </div>

                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" th:data-bs-target="${'#offerModal' + job.id}" data-bs-toggle="modal" data-bs-dismiss="modal">Close</button>
                                                <button type="submit" class="btn btn-primary">Submit</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>



                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
            <!--THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND-->
        </fieldset>
    </div>
</form>
<th:block th:replace="partials/javaScriptTag.html :: scriptBlock"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<footer th:block th:replace="partials/footer :: footer"></footer>
</body>
</html>