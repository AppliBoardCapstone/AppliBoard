<!DOCTYPE html>
<html lang="en">
<head th:replace="partials/head :: head ('All Job Applications')" />
<body>
<th:block th:replace="partials/navbar :: navbar"></th:block>
<h1>JOBS INDEX</h1>
<form id="statusUpdate" th:action="@{/jobApplications/kanban/update}" th:method="post" >
<div class="container-fluid d-flex justify-content-between" id="kanbanContainer" style="border: 2px solid slategray; width: 98%; height: 60em">
        <input id="dynamicId" type="hidden" name="draggedJobId" th:value="0">

    <!--    <form id="statusUpdate" th:action="@{/jobApplications/kanban/update}" th:method="post" >-->
        <fieldset id="appliedTo" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <div class="">
                <h3 class="statusName">Applied To</h3>
            </div>
            <ol id="appliedJobs" class="connectedSortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs1}" value="test">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input th:id="${job.id}" type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-1">
                            <img th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
    <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">

<!--                            TODO update team on the functioning edit, talk about gameplan with the show modal, discuss the issue with the id of one, bring up the idea of maybe a default card in id of one when profile is created, -->
<!--                            discuss the mobile view and media query that will be affecting the functionality of the kanban board and discuss how trello actually uses theirs in mobile
                                if this is something we still want functioning in mobile view its gonna require some javscript/jquery id assume due to touchscreens, but idk how it works until we update the main html server-->

                          <!--                        adding the create a note modal within the job application index-->
<!--                            the job app under codeup with the id of 1 does not take it to the page for some reason. is this an issue for any job apps with the id of 1? or is it caused-->
<!--                            by another page maybe?
             EDIT: the issue is cause by whatever card is the first one, i deleted the codeup one and ibm moved up and took its spot, and now when i click on show more it creates multiples and inserts into each different kanban
                                   also if 1 is causing the issues, maybe having a default fake job app on the kanban upon creation of a profile is a good thing? -->
<!--                            it can have the instructions for a test in the title and demo like welcome to Applicatraq, pic is our logo, and the body says drag me across to practice-->
<!--                            and says click here for the show more to create notes and stuff? idk-->
                            <form th:action="'/jobApplications/' + ${job.id}" method="get">
                                <button type="submit" class="btn btn-primary">Show More</button>
                            </form>

<!--                        this works, changing over to notes/index to show all notes with the matching job app id-->
<!--                        <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">-->
<!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createNote">Create a note</button>-->
<!--                            <div th:replace="/notes/create.html :: #createNote"></div>-->
<!--                        </form>-->
<!--                        <form action="/notes/index/{id}" th:action="@{/notes/index/{id}(id = ${job.id})}" method="get" th:object="${job}">-->
<!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notesIndex">View Notes</button>-->
<!--                            <div th:replace="/notes/index.html :: #notesIndex"></div>-->
<!--                        </form>-->
                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
        </fieldset>
    <!--FIRST CONTACT COLUMN-->
        <fieldset id="firstContact" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <!--            <form id="statusUpdate" th:action="@{/jobApplications/kanban/update}" th:method="post" >-->
<!--                <input type="hidden" id="kanban_status" class="kanban_status" name="kanban_status" th:value="${2}" />-->
<!--            </form>-->
            <div><h3 class="statusName">First Contact</h3></div>
            <ol id="contactedJobs" class="connectedSortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs2}">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-1">
                            <img th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
                        <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">
                            <!--                        adding the create a note modal within the job application index-->

                            <!--                        this works, changing over to notes/index to show all notes with the matching job app id-->
                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createNote">Create a note</button>
                                <div th:replace="/notes/create.html :: #createNote"></div>
                            </form>
                            <!--                        <form action="/notes/index/{id}" th:action="@{/notes/index/{id}(id = ${job.id})}" method="get" th:object="${job}">-->
                            <!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notesIndex">View Notes</button>-->
                            <!--                            <div th:replace="/notes/index.html :: #notesIndex"></div>-->
                            <!--                        </form>-->
                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
            <!--THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND-->
        </fieldset>
    <!--INTERVIEW 1 COLUMN-->
        <fieldset id="interview1" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <div><h3 class="statusName">Interviews</h3></div>
            <ol id="interviewNum1" class="connectedSortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs3}">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-1">
                            <img th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
                        <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">
                            <!--                        adding the create a note modal within the job application index-->

                            <!--                        this works, changing over to notes/index to show all notes with the matching job app id-->
                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createNote">Create a note</button>
                                <div th:replace="/notes/create.html :: #createNote"></div>
                            </form>
                            <!--                        <form action="/notes/index/{id}" th:action="@{/notes/index/{id}(id = ${job.id})}" method="get" th:object="${job}">-->
                            <!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notesIndex">View Notes</button>-->
                            <!--                            <div th:replace="/notes/index.html :: #notesIndex"></div>-->
                            <!--                        </form>-->
                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
            <!--THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND-->
        </fieldset>
<!--    &lt;!&ndash;INTERVIEW 2 COLUMN&ndash;&gt;-->
<!--        <fieldset id="interview2" class="col-3 statusColumn hidden" style="border: 1px solid hotpink;">-->
<!--            <div><h3 class="statusName">Interview #2</h3></div>-->
<!--            <ol id="interviewNum2" class="connectedSortable"></ol>-->
<!--            &lt;!&ndash;THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND&ndash;&gt;-->
<!--        </fieldset>-->
<!--    &lt;!&ndash;INTERVIEW 3 COLUMN&ndash;&gt;-->
<!--        <fieldset id="interview3" class="col-3 statusColumn hidden" style="border: 1px solid hotpink;">-->
<!--            <div><h3 class="statusName">Interview #3</h3></div>-->
<!--            <ol id="interviewNum3" class="connectedSortable"></ol>-->
<!--            &lt;!&ndash;THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND&ndash;&gt;-->
<!--        </fieldset>-->
    <!--OFFER MADE COLUMN-->
        <fieldset id="offerMade" class="col-3 statusColumn" style="border: 1px solid hotpink;">
            <div><h3 class="statusName">Offer Made</h3></div>
            <ol id="offeredJobs" class="connectedSortable offeredJobs ui-sortable">
                <li class=" jobCard row card draggable "  th:each="job : ${jobs4}">
                    <!--JOB ID HIDDEN INPUT ALLOWS US TO GRAB THE JOB ID OBJECT-->
                    <input type="hidden" name="jobId" th:value="${job.id}">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-1">
                            <img th:src="'//logo.clearbit.com/' + ${job.company} + '.com?size=40'">
                            <strong><p class="card-text" th:text="${job.company}"></p></strong>
                        </div>
                        <h6 class="text-primary card-title" th:text="${job.title}"></h6>
                        <!--                    make this a link (above line)-->
                        <p class="card-text" th:text="${job.location}"></p>
                        <p class="card-text" th:text="'$' + ${job.salary}"></p>
                        <div class="d-flex align-items-center">
                            <!--                        adding the create a note modal within the job application index-->

                            <!--                        this works, changing over to notes/index to show all notes with the matching job app id-->
                            <form action="/notes/create" th:action="@{/notes/create}" method="post" th:object="${note}">
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createNote">Create a note</button>
                                <div th:replace="/notes/create.html :: #createNote"></div>
                            </form>
                            <!--                        <form action="/notes/index/{id}" th:action="@{/notes/index/{id}(id = ${job.id})}" method="get" th:object="${job}">-->
                            <!--                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notesIndex">View Notes</button>-->
                            <!--                            <div th:replace="/notes/index.html :: #notesIndex"></div>-->
                            <!--                        </form>-->
                            <form th:action="'/jobApplications/' + ${job.id} + '/edit'" method="get">
                                <input type="hidden" name="jobApplicationsId" value="${jobApplications.id}">
                                <button class="m-2" type="submit" name="editBtn" value="edit">Edit</button>
                            </form>
                            <form th:action="'/jobApplications/' + ${job.id} + '/delete'" th:method="POST">
                                <button type="submit">Delete</button>
                            </form>
                        </div>
                    </div>
                </li>
            </ol>
            <!--THIS IS THE SPACE IN WHICH THE CARD WOULD BE MOVED INTO ON DRAGEND-->
        </fieldset>
<!--    </form>-->


</div>
</form>
<th:block th:replace="partials/javaScriptTag.html :: scriptBlock"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>